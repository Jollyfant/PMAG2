<!DOCTYPE html>

<html lang="en">

  <head>

    <!-- Required metadata tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Paleomagnetism.org 2 - An online environment for paleomagnetic analysis">
    <meta name="keywords" content="paleomagnetism, interpretation, zijderveld, pca">

    <meta name="author" content="Mathijs Koymans">

    <link rel="stylesheet" href="../style.css">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
          integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
          crossorigin=""/>

    <!-- Bootstrap & Font Awesome CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
          integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
          crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/css/bootstrap-select.min.css">
  </head>

  <body>

    <!-- Header -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">

      <a class="navbar-brand" href="http://www.paleomagnetism.org">Paleomagnetism<span class="text-danger">.org</span></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="../interpretation/index.html">Interpretation</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="#">Statistics</a>
          </li>
          <li class="nav-item">
            <span class="nav-link disabled" href="#">|</span></li>
          <li class="nav-item">
            <a class="nav-link" href="../references/index.html">References</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../team/index.html">Team & Contact</a>
          </li>
        </ul>

        <form class="form-inline my-2 my-lg-0">
          <!--<input id="search-bar" class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">-->
          <a href="./library/index.html" class="btn btn-sm btn-primary my-2 my-sm-0"><i class="fas fa-book-open"></i> <b>Data Library</b></a>
        </form>

      </div>

    </nav>

    <!-- Main body -->
    <div class="container">

      <!-- Container for user notifications -->
      <div id="notification-container"></div>

      <!-- Specimen Scroller -->
      <div class="input-group">
        <select class="selectpicker form-control text-center" data-actions-box="true" id="specimen-select" title="<i class='far fa-hand-point-down'></i> Select one or multiple collections" multiple></select>
      </div>

      <br>

      <!-- Tab Headers -->
      <nav>
        <div class="nav nav-tabs nav-justified" id="nav-tab" role="tablist">
          <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Data Import</a>
          <a class="nav-item nav-link disabled" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Directions</a>
          <a class="nav-item nav-link disabled" id="nav-fitting-tab" data-toggle="tab" href="#nav-fitting" role="tab" aria-controls="nav-profile" aria-selected="false">Mean Directions</a>
<!--
          <a class="nav-item nav-link" id="nav-settings-tab" data-toggle="tab" href="#nav-settings" role="tab" aria-controls="nav-settings" aria-selected="false">Common True Mean Directions</a>
          <a class="nav-item nav-link" id="nav-settings-tab" data-toggle="tab" href="#nav-settings" role="tab" aria-controls="nav-settings" aria-selected="false">Foldtest</a>
          <a class="nav-item nav-link" id="nav-settings-tab" data-toggle="tab" href="#nav-settings" role="tab" aria-controls="nav-settings" aria-selected="false">Inclination Shallowing</a>
-->
          <a class="nav-item nav-link" id="nav-settings-tab" data-toggle="tab" href="#nav-settings" role="tab" aria-controls="nav-settings" aria-selected="false">Export and Settings</a>

        </div>
      </nav>


      <div class="tab-content">

        <!-- Tab for data importing -->
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">

          <br>

          <div class="alert alert-light" role="alert">
            <h5> Paleomagnetism.org 2 - Statistics </h5>
            <p> Data from the Paleomagnetism 2.0.0 .dir format can be imported to the statistics portal. Each selected file will be associated with a new selectable collection.
          </div>

          <div class="input-group mb-6">

            <!-- File input -->
            <div class="custom-file">
              <input type="file" class="custom-file-input" id="customFile" multiple>
              <label class="custom-file-label" for="customFile"><i class="fas fa-search"></i> Select files </label>

            </div>
            <div class="input-group-append">
              <div class="input-group-text">
                <input id='append-input' type="checkbox" aria-label="Checkbox for following text input">
                <label class="form-check-label" for="append-input">
                  &nbsp; Append
                </label>
              </div>
            </div>

            &nbsp;

          </div>

        </div>


        <!-- Tab for data interpretation -->
        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">

          <br>

          <div class="alert alert-light" role="alert">
            <h5> Statistics - Geomagnetic Directions </h5>
            <p> Figures showing the selected collections and their geomagnetic directions & distribution of virtual geomagnetic poles. The table lists standard Fisher parameters for this set of directions.
          </div>

          <div class="container">
            <div class="row">

              <div class="table-responsive">
                <table class='table table-sm text-center table-striped' id="direction-table"></table>
              </div>

              <!-- ChRM Directions -->
	          <div class="col-lg-6">
                <div style="height: 600px;" id="direction-container"></div>
	          </div>

              <!-- VGPs -->
              <div class="col-lg-6">
                <div style="height: 600px;" id="pole-container"></div>
	          </div>

            </div>

        <div class="text-right">
	        <button class="btn btn-sm btn-light" id="export-png"><i class="far fa-file-image"></i> PNG</button>
	        <button class="btn btn-sm btn-light" id="export-svg"><i class="far fa-file-image"></i> SVG</button>
	        <button class="btn btn-sm btn-light" id="export-pdf"><i class="far fa-file-image"></i> PDF</button>
          </div>
          </div>

        </div>

        <!-- Tab for fitting great circles to directions -->
        <div class="tab-pane fade" id="nav-fitting" role="tabpanel" aria-labelledby="nav-settings-tab">

          <br>

          <div class="row justify-content-md-center">
            <div class="col-md-6 ">
              <div id="fitting-container"></div>
              <figcaption class="figure-caption">Great circles can be fitted to directional set points by pressing <b>9</b>.</figcaption>
            </div>
          </div>

          <br>

          <div class="row justify-content-md-center">
            <div class="col-md-6 ">
              <table class='table table-sm text-center table-striped' id="fitted-table-container"></table>
            </div>
          </div>

          <div class="row justify-content-md-center">
            <div class="col-md-6 ">
              <div class='text-center'>
                <button class="btn btn-sm btn-success" onclick="downloadInterpretations()" type="button" class="btn btn-primary"><i class="fas fa-file-download"></i>&nbsp; Download Interpretations</button>
              </div>
            </div>
          </div>
          
        </div>

        <!-- Tab for settings & preferences --> 
        <div class="tab-pane fade" id="nav-settings" role="tabpanel" aria-labelledby="nav-settings-tab">
          <br>
          <h5> Saving Data </h5>
          <p> Data from the application can be exported in the <b>Paleomagnetism.org 2.0.0</b> format.
          <p>
          <button onclick="exportApplicationSave()" type="button" class="btn btn-sm btn-success"><i class="fas fa-file-download"></i>&nbsp; Download application save</button>
          <hr>

          <!-- Options for sorting -->
          <h5> Sorting Options </h5>
          <p> Specimens can be sorted by the following attributes.
          <p>
          <button onclick="sortSamples('name')" type="button" class="btn btn-sm btn-light"><i class="fas fa-sort"></i> Name</button>
          <button onclick="sortSamples('stratigraphy')" type="button" class="btn btn-sm btn-light"><i class="fas fa-sort"></i> Stratigraphy</button>
          <button onclick="sortSamples('lithology')" type="button" class="btn btn-sm btn-light"><i class="fas fa-sort"></i> Lithology</button>
          <button onclick="sortSamples('bogo')" type="button" class="btn btn-sm btn-light"><i class="fas fa-sort"></i> Randomly</button>
          <hr>


          <!-- Cutoff selector -->
          <h5> Select Cutoff </h5>
          <div class="input-group mb-6">

            <div class="input-group-prepend">
              <label class="input-group-text" for="cutoff-selection">Direction Cutoff &nbsp; <small><i class="fas fa-angle-right"></i></small></label>
            </div>


            <select class="custom-select" id="cutoff-selection">
              <optgroup label="Recommended Cutoffs">
                <option value="CUTOFF45">45 Cutoff</option>
              </optgroup>
              <optgroup label="Other Cutoffs">
                <option value="VANDAMME">Vandamme</option>
                <option value="null">None</option>
              </optgroup>
            </select>

          </div>

          <br>

          <!-- Keyboard tips -->
          <h5> Keyboard Shortcuts</h5>
          <small>
            <table class="table table-sm table-striped table-responsive text-center">
              <tr>
                <td>Previous Specimen</td>
                <td>Next Specimen</td>
                <td>Previous Step</td>
                <td>Next Step</td>
                <td>Select Step</td>
                <td>Hide Step</td>
                <td>PCA (Direction)</td>
                <td>PCA (Plane)</td>
                <td>Anchor Component</td>
                <td>Cycle Projection</td>
                <td>Cycle Coordinates</td>
                <td>Fit Great Circles</td>
                <td>Change Group</td>
                <td>Set Location</td>
                <td>Remove Specimen</td>
              </tr>
                <td>Left, A</td>
                <td>Right, D</td>
                <td>Up, W</td>
                <td>Down, S</td>
                <td>Plus, X</td>
                <td>Minus, Z</td>
                <td>1</td>
                <td>2</td>
                <td>Control</td>
                <td>3</td>
                <td>8</td>
                <td>9</td>
                <td>g</td>
                <td>i</td>
                <td>q</td>
            </table>
          </small>

          <!-- Preferences -->
          <h5> Preferences </h5>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="auto-save" value="option1" checked>
            <label class="form-check-label" for="auto-save"> Auto-save </label>
            &nbsp;
            &nbsp;
            <input class="form-check-input" type="checkbox" id="zijderveld-tooltip" value="option1" checked>
            <label class="form-check-label" for="zijderveld-tooltip"> Zijderveld tooltip</label>
            &nbsp;
            &nbsp;
            <input class="form-check-input" type="checkbox" id="enable-sound" value="option1" checked>
            <label class="form-check-label" for="enable-sound"> Sound </label>
            &nbsp;
            &nbsp;
            <input class="form-check-input" type="checkbox" id="auto-comment" value="option1">
            <label class="form-check-label" for="auto-comment"> Auto comment </label>
          </div>
          <br>
          <br>

          <!-- Reset the application -->
          <h5> Application Reset </h5>
          <p> The application will be resetted as local storage will be cleared. Export your data manually to save it.
          <p>
          <button onclick="clearLocalStorage()" type="button" class="btn btn-sm btn-danger"><i class="fas fa-times"></i>&nbsp; Reset Local Storage</button>
        
        </div>

      </div>

    </div>

    <footer id="footer-container" class="container text-muted"></footer>

    <br>

  </body>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/highcharts-more.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/offline-exporting.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/js/bootstrap-select.min.js"></script>
  <!-- Include leaflet -->
   <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
     integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
     crossorigin=""></script>

    <script src="../utils.js"></script>

    <script src="../Exception.js"></script>
    <script src="../Direction.js"></script>
    <script src="../Pole.js"></script>
    <script src="../Location.js"></script>
    <script src="../Coordinates.js"></script>
    <script src="../Site.js"></script>
    <script src="../Distribution.js"></script>
    <script src="./index.js"></script>
    <script src="./graphs.js"></script>

</html>
